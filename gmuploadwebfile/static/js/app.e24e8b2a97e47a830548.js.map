{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?347c","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["App","data","fileList","formInline","userId","file","created","this","getUrlKey","split","getParams","methods","name","console","log","str","RegExp","exec","location","href","decodeURIComponent","replace","data1","uploadfile","_this","fd","FormData","substr","lastIndexOf","type","append","axios","method","url","headers","Content-Type","then","res","status","$message","extend","msg","catch","err","error","selectortype_template_index_0_src_App","render","_h","$createElement","_c","_self","staticStyle","text-align","staticClass","attrs","action","limit","file-list","http-request","background-color","font-size","size","_v","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","Vue","use","VueAxios","config","productionTip","ElementUI","el","components","template"],"mappings":"qHAqBAA,GACAC,KADA,WAEA,OACAC,YACAC,YACAC,OAAA,GACAC,KAAA,MAKAC,QAXA,WAYA,IAAAF,EAAAG,KAAAC,UAAA,UAAAC,MAAA,KACAF,KAAAG,UAAAN,IAGAO,SACAH,UAAA,SAAAI,GACAC,QAAAC,IAAAF,GACA,IAAAG,GAAA,IAAAC,OAAA,UAAAJ,EAAA,uBAAAK,KAAAC,SAAAC,QAAA,QAEA,OADAN,QAAAC,IAAAM,mBAAAL,IACAK,mBAAAL,EAAAM,QAAA,qBAEAX,UAPA,SAOAY,GACAT,QAAAC,IAAAQ,GAEAf,KAAAJ,WAAAC,OAAAkB,GAEAC,WAZA,SAYAlB,GAAA,IAAAmB,EAAAjB,KACAkB,EAAA,IAAAC,SACAb,QAAAC,IAAAT,QACAQ,QAAAC,IAAA,oBAAAT,OAAAO,KAAAe,OAAAtB,OAAAO,KAAAgB,YAAA,SACAf,QAAAC,IAAA,cAAAT,OAAAO,MACAC,QAAAC,IAAA,cAAAT,OAAAwB,MACAhB,QAAAC,IAAA,YAAAP,KAAAJ,WAAAC,QACAqB,EAAAK,OAAA,OAAAzB,QACAoB,EAAAK,OAAA,WAAAzB,OAAAO,MACAa,EAAAK,OAAA,WAAAzB,OAAAwB,MACAJ,EAAAK,OAAA,oBAAAzB,OAAAO,KAAAe,OAAAtB,OAAAO,KAAAgB,YAAA,SACAH,EAAAK,OAAA,SAAAvB,KAAAJ,WAAAC,QAEAG,KAAAwB,OACAC,OAAA,OACAC,IA7CA,2DA8CAC,SACAC,eAAA,uBAGAlC,KAAAwB,IAEAW,KAAA,SAAAC,GACAxB,QAAAC,IAAAuB,GACAxB,QAAAC,IAAAuB,EAAAC,QACA,KAAAD,EAAAC,QACAd,EAAAe,SAAA,OAAAF,EAAAG,OAAAC,IAAA,SACAjB,EAAAtB,aAEAsB,EAAAe,SAAA,oBAIAG,MAAA,SAAAC,GACA9B,QAAAC,IAAA6B,GACAnB,EAAAe,SAAAK,MAAA,uBCjFeC,GADEC,OAFjB,WAA0B,IAAaC,EAAbxC,KAAayC,eAA0BC,EAAvC1C,KAAuC2C,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,aAAaC,aAAA,YAAuBH,EAAA,aAAkBI,YAAA,cAAAC,OAAiCC,OAAA,GAAAC,MAAA,EAAAC,YAAvKlD,KAAuKL,SAAAwD,eAAvKnD,KAAuKgB,cAA8E0B,EAAA,aAAkBE,aAAaQ,mBAAA,mBAAAC,YAAA,SAA0DN,OAAQO,KAAA,QAAAhC,KAAA,aAAtVtB,KAAuXuD,GAAA,yBAEhYC,oBCCjB,IAuBeC,EAvBUC,EAAQ,OAcjCC,CACElE,EACA6C,GATF,EAVA,SAAAsB,GACEF,EAAQ,SAaV,KAEA,MAUgC,0ECjBhCG,UAAIC,IAAIC,IAAUvC,KAElBqC,UAAIG,OAAOC,eAAgB,EAE3BJ,UAAIC,IAAII,KAER,IAAIL,WACFM,GAAI,OACJC,YAAc3E,OACd4E,SAAU","file":"static/js/app.e24e8b2a97e47a830548.js","sourcesContent":["<template>\n  <div style=\"text-align: center;\">\n    <el-upload\n      class=\"upload-demo\"\n      action=\"\"\n      :limit=\"1\"\n      :file-list=\"fileList\"\n      :http-request=\"uploadfile\"\n    > \n      <el-button size=\"small\" type=\"primary\" style=\" background-color: RGB(71, 63, 151); font-size: large;\">上传文件\n      </el-button>\n    </el-upload>\n  </div>\n</template>\n\n<script>\n\n  // import utils from '@/utils'\n  // const url='http://120.48.24.241/'\n  const url = 'http://wisdompc.lyu.edu.cn/users-service/v0/api/file/add'\n  // const url='http://www.sdhxzn.cn/'\n  export default {\n    data() {\n      return {\n        fileList:[],\n        formInline: {\n          userId: '',\n          file: '',\n        },\n      }\n    },\n\n    created() {\n      let userId = this.getUrlKey('userId').split('?')\n      this.getParams(userId)\n    },\n\n    methods: {\n      getUrlKey: function (name) {\n        console.log(name)\n        var str = (new RegExp('[?|&|/]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.href) || [\"\"])[1]\n        console.log(decodeURIComponent(str))\n        return decodeURIComponent(str.replace(/\\+/g, '%20')) || null;\n      },\n      getParams(data1) {\n        console.log(data1)\n        //接收函数\n        this.formInline.userId = data1\n      },\n      uploadfile(file) {\n        let fd = new FormData()\n        console.log(file.file)\n        console.log(\"file extension: \" + \".\" + file.file.name.substr(file.file.name.lastIndexOf('.') +1))\n        console.log(\"file name: \" + file.file.name)\n        console.log(\"file type: \" + file.file.type)\n        console.log(\"user Id: \" + this.formInline.userId)\n        fd.append('file', file.file)\n        fd.append('fileName', file.file.name)\n        fd.append('fileType', file.file.type)\n        fd.append('fileExtension', \".\" + file.file.name.substr(file.file.name.lastIndexOf('.') +1))\n        fd.append('userId', this.formInline.userId)\n\n        this.axios({\n          method: \"POST\",\n          url: url,\n          headers: {\n            'Content-Type': 'multipart/form-data',\n            // 'token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyMDE1MDkzMTA1MjYiLCJleHAiOjE2NTEyMzE5MDQsImlhdCI6MTY1MTIyNDcwNH0.Y0VTLo2a6bL7U95AEtTn9XnJM4SL4inIWNVCI5YTT-o',\n          },\n          data: fd,\n        })\n          .then(res => {\n            console.log(res)\n            console.log(res.status);\n            if (res.status != 200) {\n              this.$message('上传失败' + res.extend.msg, 'error')\n              this.fileList = []\n            } else {\n              this.$message('上传成功', 'success')\n              // this.fetchData();\n            }\n          })\n          .catch(err => {\n            console.log(err)\n            this.$message.error('上传失败，请添加文件后重试！')\n          })\n\n      },\n    }\n\n  }\n</script>\n<style>\n  .el-pagination {\n    position: absolute;\n    left: 30vw;\n    bottom: 0px;\n  }\n\n  .fromHeader .el-select .el-input {\n    border-color: #409EFF;\n    width: 200px;\n  }\n\n  .demo-table-expand {\n    font-size: 0;\n  }\n\n  .user-search {\n    margin-top: 20px;\n  }\n\n  .demo-table-expand label {\n    width: 90px;\n    color: #99a9bf;\n  }\n\n  .demo-table-expand .el-form-item {\n    margin-right: 0;\n    margin-bottom: 0;\n    width: 100%;\n  }\n\n  .el-form-item__content {\n    width: 100%;\n  }\n\n  /* 隐藏上方表格多余部分 */\n  .undefined.el-table__expand-column {\n    display: none;\n  }\n\n  /* 隐藏上方表格多余部分 */\n  .el-table_1_column_8 .el-table--border td, .el-table--border th, .el-table__body-wrapper .el-table--border.is-scrolling-left ~ .el-table__fixed {\n    border-right: 0px solid #ebeef5\n  }\n\n  .tablerowclass {\n    background: #EAEAEA !important;\n  }\n\n  /* 去掉中间数据的分割线 */\n  .el-table__row > td {\n    border-right: none !important;\n\n  }\n\n  .el-table > tr {\n    border-right: none !important;\n    border-left: none !important;\n  }\n\n  .tableclass1 {\n    border: none !important;\n  }\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"\",\"limit\":1,\"file-list\":_vm.fileList,\"http-request\":_vm.uploadfile}},[_c('el-button',{staticStyle:{\"background-color\":\"RGB(71, 63, 151)\",\"font-size\":\"large\"},attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"上传文件\\n    \")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3ef25936\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3ef25936\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3ef25936\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n// import router from './router'\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport axios from 'axios'\nimport VueAxios from 'vue-axios'\nVue.use(VueAxios, axios)\n\nVue.config.productionTip = false\n\nVue.use(ElementUI);\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}