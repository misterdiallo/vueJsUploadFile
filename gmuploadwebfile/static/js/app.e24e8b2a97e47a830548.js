webpackJsonp([1],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n("7+uW"),o={data:function(){return{fileList:[],formInline:{userId:"",file:""}}},created:function(){var e=this.getUrlKey("userId").split("?");this.getParams(e)},methods:{getUrlKey:function(e){console.log(e);var t=(new RegExp("[?|&|/]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[""])[1];return console.log(decodeURIComponent(t)),decodeURIComponent(t.replace(/\+/g,"%20"))||null},getParams:function(e){console.log(e),this.formInline.userId=e},uploadfile:function(e){var t=this,n=new FormData;console.log(e.file),console.log("file extension: ."+e.file.name.substr(e.file.name.lastIndexOf(".")+1)),console.log("file name: "+e.file.name),console.log("file type: "+e.file.type),console.log("user Id: "+this.formInline.userId),n.append("file",e.file),n.append("fileName",e.file.name),n.append("fileType",e.file.type),n.append("fileExtension","."+e.file.name.substr(e.file.name.lastIndexOf(".")+1)),n.append("userId",this.formInline.userId),this.axios({method:"POST",url:"http://wisdompc.lyu.edu.cn/users-service/v0/api/file/add",headers:{"Content-Type":"multipart/form-data"},data:n}).then(function(e){console.log(e),console.log(e.status),200!=e.status?(t.$message("上传失败"+e.extend.msg,"error"),t.fileList=[]):t.$message("上传成功","success")}).catch(function(e){console.log(e),t.$message.error("上传失败，请添加文件后重试！")})}}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"text-align":"center"}},[t("el-upload",{staticClass:"upload-demo",attrs:{action:"",limit:1,"file-list":this.fileList,"http-request":this.uploadfile}},[t("el-button",{staticStyle:{"background-color":"RGB(71, 63, 151)","font-size":"large"},attrs:{size:"small",type:"primary"}},[this._v("上传文件\n    ")])],1)],1)},staticRenderFns:[]};var i=n("VU/8")(o,s,!1,function(e){n("Z7Eq")},null,null).exports,a=n("zL8q"),r=n.n(a),f=(n("tvR6"),n("mtWM")),u=n.n(f),c=n("aLYK");l.default.use(c.a,u.a),l.default.config.productionTip=!1,l.default.use(r.a),new l.default({el:"#app",components:{App:i},template:"<App/>"})},Z7Eq:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e24e8b2a97e47a830548.js.map